

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>5. Troubleshooting &mdash; Hydro-UQ  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sphinxcontrib-images/LightBox2/lightbox2/css/lightbox.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinxcontrib-images/LightBox2/lightbox2/js/jquery-1.11.0.min.js"></script>
        <script src="../../_static/sphinxcontrib-images/LightBox2/lightbox2/js/lightbox.min.js"></script>
        <script src="../../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="6. Examples" href="examples/examples.html" />
    <link rel="prev" title="4. Help Videos" href="helpvideo.html" />
<script src="https://cdn.jsdelivr.net/npm/vega@5.12.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@4.13.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.8.0"></script>
<style media="screen">.vega-actions a {margin-right: 5px;}</style>
<link href="../../_static/css/bootstrap.css" rel="stylesheet">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #F2F2F2" >
          
<a href="https://simcenter.designsafe-ci.org/" style="margin-bottom: 0px;">
  <img src="../../_static/img/SimCenter-Only.png" class="logo" alt="Org-Logo" />
</a>
<hr style="margin: 0px;">

  <a href="../../index.html">



  
  <img src="../../_static/HydroUQ-Logo.png" class="logo" alt="Logo"/>

</a>


  
  



<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../common/front-matter/ack.html">1. Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../common/front-matter/license.html">2. Copyright and License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../common/front-matter/glossary.html">3. Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../common/front-matter/abbreviations.html">4. Abbreviations</a></li>
</ul>
<p class="caption"><span class="caption-text">User Manual</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">1. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="userguide/uguide.html">2. User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="resguide/resguide.html">3. Researcher Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="helpvideo.html">4. Help Videos</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">5. Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#startup-issues">5.1. Startup Issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="#issues-while-running">5.2. Issues While Running</a></li>
<li class="toctree-l2"><a class="reference internal" href="#other-issues">5.3. Other issues</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples/examples.html">6. Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="bestpractices.html">7. Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="releasenotes.html">8. Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../common/user_manual/bugs.html">9. Bugs &amp; Feature Requests</a></li>
</ul>
<p class="caption"><span class="caption-text">Technical Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../techman/hazards/water.html">1. Water-borne Hazards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../techman/fvm/fvm.html">2. Finite Volume Method</a></li>
<li class="toctree-l1"><a class="reference internal" href="../techman/swsolver/swsolver.html">3. Shallow Water Solvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../techman/cfdsolver/cfdsolver.html">4. CFD Solvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../techman/swcfdcoupling/swcfdcoupling.html">5. SW-CFD Coupling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../techman/UQ/uqengine.html">6. Uncertainity quantification</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../common/developer_manual/how_to_build/desktop/how_to_build.html">1. How to Build</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../common/developer_manual/architecture/desktop/architecture.html">2. Software Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../common/developer_manual/verification/desktop/verification.html">3. Verification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../common/developer_manual/coding_style/desktop/coding_style.html">4. Coding Style</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Hydro-UQ</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li><span class="section-number">5. </span>Troubleshooting</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/Hydro/userman/errors.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="troubleshooting">
<span id="lbl-errors"></span><h1><span class="section-number">5. </span>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h1>
<p>There can be two types of major issues, one during startup and other during the running of the program.</p>
<div class="section" id="startup-issues">
<h2><span class="section-number">5.1. </span>Startup Issues<a class="headerlink" href="#startup-issues" title="Permalink to this headline">¶</a></h2>
<p>On Windows operating systems, if you receive an error when starting the application with the message that MSVCP140.dll is missing. This is caused by a missing Visual C/C++ runtime library. You can fix this error by running the installer for the Visual C/C++ redistributable package <strong>vc_redist.x64.exe</strong>, which is included with the application.</p>
</div>
<div class="section" id="issues-while-running">
<h2><span class="section-number">5.2. </span>Issues While Running<a class="headerlink" href="#issues-while-running" title="Permalink to this headline">¶</a></h2>
<p>Common causes of failure include incorrect setup, non-functioning or poorly functioning websites, user error, and possible bugs in the software. To discover the errors, it is helpful to understand how the user interface and the backend work when the user submits to run a job. Several things occur when the Submit button is clicked:</p>
<ol class="arabic simple">
<li><p>The UI creates a folder in the working dir location specified called <code class="docutils literal notranslate"><span class="pre">tmp.SimCenter</span></code> and in that folder creates another folder called <code class="docutils literal notranslate"><span class="pre">templatedir</span></code>.</p></li>
<li><p>The UI then iterates through all the widgets chosen. These widgets place all needed files for the computation into the <code class="docutils literal notranslate"><span class="pre">templatedir</span></code> directory.</p></li>
<li><p>A Python script is run in this <code class="docutils literal notranslate"><span class="pre">templatedir</span></code> directory that creates the UQ engine’s input file. For example, using Dakota, the input file <code class="docutils literal notranslate"><span class="pre">dakota.in</span></code> is created and placed in the <code class="docutils literal notranslate"><span class="pre">tmp.SimCenter</span></code> folder.</p></li>
<li><p>The entire <code class="docutils literal notranslate"><span class="pre">templatedir</span></code> folder is sent to the TACC supercomputer. Here, the input dictionaries related to OpenFOAM are created, and the OpenFOAM event is run.</p></li>
<li><p>Once the OpenFOAM event has been completed, the resulting forces on the buildings are calculated.</p></li>
<li><p>The UQ engine is then started and runs using the <code class="docutils literal notranslate"><span class="pre">dakota.in</span></code> input file.</p></li>
<li><p>As the UQ engine runs, it creates folders in <code class="docutils literal notranslate"><span class="pre">tmp.SimCenter</span></code>, one folder for each deterministic run.</p></li>
<li><p>When completed, the UQ engine leaves the results files in the <code class="docutils literal notranslate"><span class="pre">tmp.SimCenter</span></code> folder.</p></li>
<li><p>The results files are then processed by the front-end and presented in the <strong>RES</strong> tab.</p></li>
</ol>
<p>The following is a list of things that we have observed go wrong when the user interface informs the user of a failure and steps the user can take to fix the problem:</p>
<ol class="arabic simple">
<li><p><strong>Could not create working dir</strong>: The user does not have permission to create the <code class="docutils literal notranslate"><span class="pre">tmp.SimCenter</span></code> folder in the working dir location. Change the <strong>Local Jobs Directory</strong> and the <strong>Remote Jobs Directory</strong> in the application’s <strong>Preferences</strong> menu option.</p></li>
<li><p><strong>No Script File</strong>: The user has changed the Local Applications directory location in Preferences, or the applications folder that accompanies the installation has been modified. Either set the correct directory location or re-install the tool.</p></li>
<li><p><strong>Dakota failed to finish</strong>: This can occur for several reasons. Go to the <code class="docutils literal notranslate"><span class="pre">tmp.SimCenter</span></code> folder and look for the <code class="docutils literal notranslate"><span class="pre">dakota.err</span></code> file. If no file exists then, Dakota did not start. If the file exists, look at its contents to see if there are any errors.</p>
<ol class="arabic simple">
<li><p><strong>No dakota.err file and no dakota.in file</strong>: the Python script in <code class="docutils literal notranslate"><span class="pre">templatedir</span></code> failed to create the necessary files. Have a look at the workflow log file in the <code class="docutils literal notranslate"><span class="pre">templatedir</span></code> folder to see what the error is, as it could indicate an error in your input. If no workflow log file exists, it means Python failed to start. Check the installation of Python.</p></li>
<li><p><strong>No dakota.err and dakota.in exists</strong>: Dakota failed to run. Check installation of Dakota and Python. NOTE: Sometimes, if Python starts, it is not using the version of Python you specified in the environment variables when setting up Python. This is because many applications install their own version of Python. If Dakota is installed correctly, set the location of the Python executable in Preferences.</p></li>
<li><p><strong>dakota.err file exists</strong>: Open the file and see what the error is.  For example, if it says <strong>Error: at least one variable must be specified.</strong> This means no random variables have been set. You have only one deterministic event, or you have not set any random variables in the EDP.</p></li>
<li><p><strong>dakota.err file exists but is empty</strong>: This means that Dakota ran, but there was a problem with the simulation. Go to one of the <code class="docutils literal notranslate"><span class="pre">workdir</span></code> locations. There is a file workflow driver that can be run. Run it and see what the errors are.</p></li>
<li><p><strong>You ran at DesignSafe and no dakota.out files come back</strong>: Go to your data depot folder at DesignSafe using your browser. Go to archive/jobs and use the job number shown in table that pops up when you ask to get the job from DesignSafe. Study both the <code class="docutils literal notranslate"><span class="pre">.err</span></code> and <code class="docutils literal notranslate"><span class="pre">.out</span></code> files in that directory for a clues to as what went wrong.</p></li>
</ol>
</li>
</ol>
<p>If problems persists, please post them on the <a class="reference external" href="https://simcenter-messageboard.designsafe-ci.org/smf/index.php?board=17.0">Message Board</a></p>
</div>
<div class="section" id="other-issues">
<h2><span class="section-number">5.3. </span>Other issues<a class="headerlink" href="#other-issues" title="Permalink to this headline">¶</a></h2>
<p>Some of the other common tips and tricks for troubleshooting include:</p>
<p><strong>Know the objective</strong></p>
<p>Before starting the simulation, it is essential to understand the intended goal of the project. This will help set up appropriate inputs. <code class="docutils literal notranslate"><span class="pre">Hydro-UQ</span></code> workflows already helps with this to the best extent possible. Yet, the user’s understanding of the physics is much necessary.</p>
<p><strong>Mesh quality</strong></p>
<p>Most often, the quality of the mesh can be the reason for the simulation failure. Check the mesh quality. <code class="docutils literal notranslate"><span class="pre">Hydro-UQ</span></code> has an in-built mesher, and we continue to optimize its performance. However, this is limited and might not serve the needs of advanced researchers. It is then recommended to use external meshing tools and directly import the mesh. If the tool you used for meshing is unavailable, please submit a feature request using <span class="xref std std-ref">lbl-featurereq</span>.</p>
<p><strong>Units</strong></p>
<p>Check that the units are consistent. The CFD event, <code class="docutils literal notranslate"><span class="pre">EVT</span></code> does not have specific units, but you need to ensure that the units provided need to be consistent.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, The Regents of the University of California.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', '...', 'auto');
    
    ga('send', 'pageview');
    </script>

    
    

  <style>
         .wy-nav-content { max-width: none; }
  </style>

<script>
    /*
    let selectedFilters = [];
    const images  = document.getElementsByClassName("gallery-item");
    const filters = [...document.querySelectorAll('.filter select')];
    const toggles = [...document.querySelectorAll('.filter input')];

    var show = function (elem) {
        elem.style.display = 'block';
    };
    var hide = function (elem) {
        elem.style.display = 'none';
    };
    var toggleFilter =  function(el,elid) {
        const filter = document.getElementById(elid);
        filter.disabled = !el.checked;
       
        if ("createEvent" in document) {
            var evt = document.createEvent("HTMLEvents");
            evt.initEvent("change", false, true);
            filter.dispatchEvent(evt);
        }
        else
            filter.fireEvent("change");
    };
    
    for (const filter of filters) {
        filter.addEventListener('change', function(event) {
            selectedFilters = filters.map(filter => filter.disabled ? '' : filter.value).filter(Boolean);
            console.log(selectedFilters);
            for (const image of images) {
                if (selectedFilters.every(filter => image.classList.contains(filter))) {
                    show(image);
                }
                else {hide(image)};
            };
        })
    };
    */
</script>


</body>
</html>